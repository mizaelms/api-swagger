{"swagger":"2.0","info":{"description":"Microservicio que contiene operaciones para realizar consultas de personas para el WorkFlow.","version":"1.0.0","title":"Consulta de personas para el WF, bajo distintos criterios de busqueda."},"host":"127.0.0.1:8080","basePath":"/","tags":[{"name":"persona-wf-controller","description":"Persona WF Controller"}],"paths":{"/wf-persona/consulta-criterio":{"post":{"tags":["persona-wf-controller"],"summary":"<<< Consulta de Personas por varios criterios para el workflow.>>>","operationId":"consultaPersonaPorCriterioUsingPOST","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"consultaPersonaCriterio","description":"consultaPersonaCriterio","required":true,"schema":{"$ref":"#/definitions/ConsultaPersonaCriterioReqDto"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ConsultaPersonaResponseDto"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/wf-persona/registro-persona":{"post":{"tags":["persona-wf-controller"],"summary":"<<< Metodo para registrar una persona su direccion y medios de contacto en CRM. >>>","operationId":"registrarPersonaCRMUsingPOST","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"altaPersonaReq","description":"altaPersonaReq","required":true,"schema":{"$ref":"#/definitions/AltaPersonaRequestDto"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/AltaPersonaResponseDto"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}}},"definitions":{"AltaMedioContactoRespDto":{"type":"object","properties":{"idMedioContacto":{"type":"string"},"secuencial":{"type":"string"}}},"GenericoCatalogosDto":{"type":"object","properties":{"clave":{"type":"string"},"descripcion":{"type":"string"},"id":{"type":"string"}}},"ErrorDto":{"type":"object","properties":{"descripcion":{"type":"string"},"id":{"type":"string"}}},"IdentificadorSistemaOrigenDto":{"type":"object","properties":{"banPadre":{"type":"boolean"},"valorClaveOrigen":{"type":"string"}}},"PersonaMoralRespDto":{"type":"object","properties":{"ban_consolidado":{"type":"string"},"codigo_postal":{"type":"string"},"cveCompletezInfo":{"type":"string"},"cve_cliente_origen":{"type":"string"},"cve_rol":{"type":"string"},"cve_sistema":{"type":"string"},"doctosIdentificaEntregados":{"type":"string"},"doctosIdentificaValidados":{"type":"string"},"domicilio":{"type":"string"},"fch_constitucion":{"type":"string"},"fch_nacimiento":{"type":"string"},"idParticipante":{"type":"string"},"id_participante_consolidado":{"type":"string"},"razon_social":{"type":"string"},"rfc":{"type":"string"}}},"MedContactoRegisRespDto":{"type":"object","properties":{"correo":{"$ref":"#/definitions/AltaMedioContactoRespDto"},"telefono":{"$ref":"#/definitions/AltaMedioContactoRespDto"}}},"AltaPersonaDatosGeneralesRespDto":{"type":"object","properties":{"codigoFiliacion":{"type":"string"},"idParticipante":{"type":"string"}}},"TelefonoDto":{"type":"object","properties":{"lada":{"type":"string","description":"Lada de longitud de 2 digitos"},"ladaInternacional":{"type":"string"},"numExtension":{"type":"string"},"numTelefono":{"type":"string","description":"Numero de telefono de longitud de 8 digitos"}}},"PersonaFisicaDto":{"type":"object","properties":{"apellido_materno":{"type":"string"},"apellido_paterno":{"type":"string"},"ban_consolidado":{"type":"string"},"codigo_postal":{"type":"string"},"curp":{"type":"string"},"cveCompletezInfo":{"type":"string"},"cve_cliente_origen":{"type":"string"},"cve_pais":{"type":"string"},"cve_sistema":{"type":"string"},"doctosIdentificaEntregados":{"type":"string"},"doctosIdentificaValidados":{"type":"string"},"domicilio":{"type":"string"},"fch_alta":{"type":"string"},"fch_nacimiento":{"type":"string"},"idParticipante":{"type":"string"},"id_participante_consolidado":{"type":"string"},"nombre_corto":{"type":"string"},"nombres":{"type":"string"},"rfc":{"type":"string"},"sexo":{"$ref":"#/definitions/SexoDto"}}},"ConsolidacionDto":{"type":"object","properties":{"codigoFiliacion":{"type":"string"},"idParticipanteConsolidadoHijo":{"type":"string"}}},"AltaPersonaMoralDto":{"type":"object","properties":{"actaConstitutiva":{"type":"string"},"cveGiroMercantil":{"type":"string"},"cveTipoSociedad":{"type":"string"},"fechaConstitucion":{"type":"string","description":"Fecha de constitucion con formato YYYYMMDD"},"folioMercantil":{"type":"string"},"nombreArchivoFea":{"type":"string"},"notaria":{"type":"string"},"numEmpleados":{"type":"integer","format":"int32"},"razonSocial":{"type":"string"}}},"DatosGeneralesDto":{"type":"object","properties":{"actaConstitutiva":{"type":"string"},"apellidoMaterno":{"type":"string"},"apellidoPaterno":{"type":"string"},"banConsolidado":{"type":"boolean"},"curp":{"type":"string"},"cveCompletezInfo":{"type":"string"},"doctosIdentificaEntregados":{"type":"string"},"doctosIdentificaValidados":{"type":"string"},"fechaAlta":{"type":"string"},"fechaConstitucion":{"type":"string"},"fechaNacimiento":{"type":"string"},"folioMercantil":{"type":"string"},"giroMercantil":{"$ref":"#/definitions/GenericoCatalogosDto"},"idParticipanteConsolidado":{"type":"string"},"nombre":{"type":"string"},"nombreArchivoFea":{"type":"string"},"notaria":{"type":"string"},"numEmpleados":{"type":"integer","format":"int32"},"ocupacion":{"$ref":"#/definitions/GenericoCatalogosDto"},"pais":{"$ref":"#/definitions/GenericoCatalogosDto"},"paisNacimiento":{"$ref":"#/definitions/GenericoCatalogosDto"},"razonSocial":{"type":"string"},"regimenConyugal":{"$ref":"#/definitions/GenericoCatalogosDto"},"rfc":{"type":"string"},"segmentoActual":{"type":"string"},"sexo":{"$ref":"#/definitions/GenericoCatalogosDto"},"tipoParticipante":{"type":"string"},"tipoSociedad":{"$ref":"#/definitions/GenericoCatalogosDto"},"tsActualizaAudit":{"type":"string"},"tsAltaAudit":{"type":"string"},"usuarioAudit":{"type":"string"}}},"CorreoDto":{"type":"object","properties":{"correo":{"type":"string"}}},"AltaPersonaFisicaDto":{"type":"object","properties":{"apellidoMaterno":{"type":"string"},"apellidoPaterno":{"type":"string"},"curp":{"type":"string"},"cveOcupacion":{"type":"string"},"cvePaisNacimiento":{"type":"string"},"cveRegimenConyugal":{"type":"string"},"cveSexo":{"type":"string"},"fechaNacimiento":{"type":"string","description":"Fecha de nacimiento con formato YYYYMMDD"},"nombre":{"type":"string"}}},"PersonaFisicaRespDto":{"type":"object","properties":{"PersonaFisicaResponse":{"$ref":"#/definitions/PersonaFisicaResponseDto"}}},"PersonaFisicaReqDto":{"type":"object","properties":{"apellidoMaterno":{"type":"string","description":"Apellido Materno."},"apellidoPaterno":{"type":"string","description":"Apellido Paterno."},"banConsolidado":{"type":"string","description":"Indicador si esta consolidada la persona."},"cveSistema":{"type":"string","description":"Clave del sistema"},"fchNacimiento":{"type":"string","description":"Fecha de nacimiento en formato YYYYMMDD"},"nombres":{"type":"string","description":"Nombres."}}},"ConsultaPersonaCriterioRespDto":{"type":"object","properties":{"nombreCorto":{"type":"string"},"personaDto":{"$ref":"#/definitions/PersonaDto"}}},"PersonaRfcDto":{"type":"object","properties":{"actaConstitutiva":{"type":"string"},"apellidoMaterno":{"type":"string"},"apellidoPaterno":{"type":"string"},"banConsolidado":{"type":"boolean"},"codigoPostal":{"type":"string"},"curp":{"type":"string"},"cveClienteOrigen":{"type":"string"},"cveCompletezInfo":{"type":"string"},"cvePais":{"type":"string"},"cveSistema":{"type":"string"},"doctosIdentificaEntregados":{"type":"string"},"doctosIdentificaValidados":{"type":"string"},"domicilio":{"type":"string"},"fechaAlta":{"type":"string"},"fechaConstitucion":{"type":"string"},"fechaNacimiento":{"type":"string"},"idParticipante":{"type":"string"},"idParticipanteConsolidado":{"type":"string"},"nombre":{"type":"string"},"nombreCorto":{"type":"string"},"razonSocial":{"type":"string"},"rfc":{"type":"string"},"sexo":{"$ref":"#/definitions/GenericoCatalogosDto"},"tipoParticipante":{"type":"string"}}},"AltaPersonaRequestDto":{"type":"object","required":["datosGeneralesPersona"],"properties":{"correoMedioContacto":{"description":"Informacion para el registro del medio de contacto correo asociado a la persona","$ref":"#/definitions/AltaMedioContactoDto"},"datosDomicilio":{"description":"Informacion para el registro del domicilio asociado a la persona","$ref":"#/definitions/AltaDomicilioDto"},"datosGeneralesPersona":{"description":"Informacion para el alta de los datos generales de la persona","$ref":"#/definitions/AltaPersonaDatosGeneralesDto"},"telefonoMedioContacto":{"description":"Informacion para el registro del medio de contacto telefono asociados a la persona","$ref":"#/definitions/AltaMedioContactoDto"}}},"DomicilioDto":{"type":"object","properties":{"asentamiento":{"$ref":"#/definitions/GenericoCatalogosDto"},"calle":{"type":"string"},"codPostal":{"$ref":"#/definitions/GenericoCatalogosDto"},"colonia":{"$ref":"#/definitions/GenericoCatalogosDto"},"consolidacion":{"$ref":"#/definitions/ConsolidacionDto"},"estado":{"$ref":"#/definitions/GenericoCatalogosDto"},"idDireccion":{"type":"integer","format":"int32"},"municipioDelegacion":{"$ref":"#/definitions/GenericoCatalogosDto"},"numExt":{"type":"string"},"numInt":{"type":"string"},"pais":{"$ref":"#/definitions/GenericoCatalogosDto"},"principal":{"type":"boolean"},"propositosContacto":{"type":"array","items":{"$ref":"#/definitions/GenericoCatalogosDto"}},"referencia":{"type":"string"},"sistemaOrigen":{"type":"array","items":{"$ref":"#/definitions/SistemasOrigenDto"}},"tipoDomicilio":{"$ref":"#/definitions/GenericoCatalogosDto"},"tipoVia":{"$ref":"#/definitions/GenericoCatalogosDto"}}},"MedioContactoDto":{"type":"object","properties":{"consolidacion":{"$ref":"#/definitions/ConsolidacionDto"},"cveLadaInternacional":{"type":"string"},"extension":{"type":"string"},"idMedioContacto":{"type":"integer","format":"int32"},"lada":{"type":"string"},"pin":{"type":"string"},"posicion":{"type":"integer","format":"int32"},"principal":{"type":"boolean"},"propositosContacto":{"type":"array","items":{"$ref":"#/definitions/GenericoCatalogosDto"}},"sistemaOrigen":{"type":"array","items":{"$ref":"#/definitions/SistemasOrigenDto"}},"tipoContacto":{"$ref":"#/definitions/GenericoCatalogosDto"},"valor":{"type":"string"}}},"ConjuntoMediosContactoDto":{"type":"object","properties":{"correos":{"type":"array","items":{"$ref":"#/definitions/MedioContactoDto"}},"redesSociales":{"type":"array","items":{"$ref":"#/definitions/MedioContactoDto"}},"telefonos":{"type":"array","items":{"$ref":"#/definitions/MedioContactoDto"}}}},"PersonaMoralResponseDto":{"type":"object","properties":{"PersonaMoralResponse":{"$ref":"#/definitions/PersonaMoralDto"}}},"AltaDomicilioDto":{"type":"object","properties":{"calle":{"type":"string"},"codPais":{"type":"string"},"codPostal":{"type":"string"},"cveColonia":{"type":"string"},"cveEstado":{"type":"string"},"cveMunicipio":{"type":"string"},"cveTipoAsentamiento":{"type":"string"},"cveTipoDomicilio":{"type":"string"},"cveTipoVia":{"type":"string"},"descripcionColonia":{"type":"string"},"numeroExterior":{"type":"string"},"numeroInterior":{"type":"string"},"puntoReferencia":{"type":"string"}}},"SistemasOrigenDto":{"type":"object","properties":{"cveSistemaOrigen":{"type":"string"},"valor":{"type":"array","items":{"$ref":"#/definitions/IdentificadorSistemaOrigenDto"}}}},"PersonaMoralDto":{"type":"object","properties":{"PersonaMoral":{"type":"array","items":{"$ref":"#/definitions/PersonaMoralRespDto"}}}},"AltaPersonaDatosGeneralesDto":{"type":"object","required":["tipoParticipante"],"properties":{"banDuplicado":{"type":"boolean"},"cvePais":{"type":"string","description":"Clave del pais"},"personaFisica":{"description":"Informacion relacionada al criterio de persona fisica.","$ref":"#/definitions/AltaPersonaFisicaDto"},"personaMoral":{"description":"Informacion relacionada al criterio de persona Moral.","$ref":"#/definitions/AltaPersonaMoralDto"},"rfc":{"type":"string","description":"Rfc a consultar"},"tipoParticipante":{"type":"string","description":"Identificador del tipo de persona, valores permitidos: F y M"},"usuarioAudit":{"type":"string","description":"Usuario Auditoria"}}},"AltaDomicilioRespDto":{"type":"object","properties":{"idDireccion":{"type":"integer","format":"int32"},"numeroSecuencia":{"type":"string"}}},"PersonaFisicaResponseDto":{"type":"object","properties":{"PersonaFisica":{"type":"array","items":{"$ref":"#/definitions/PersonaFisicaDto"}}}},"PersonaMoralReqDto":{"type":"object","required":["razonSocial"],"properties":{"banConsolidado":{"type":"string","description":"Indicador si esta consolidada la persona Moral."},"cveSistema":{"type":"string","description":"Clave del sistema"},"razonSocial":{"type":"string","description":"Razon social a buscar"}}},"ConsultaPersonaResponseDto":{"type":"object","properties":{"consultaPersonaFisica":{"$ref":"#/definitions/PersonaFisicaRespDto"},"consultaPersonaIdParticipante":{"$ref":"#/definitions/ConsultaPersonaCriterioRespDto"},"consultaPersonaMoral":{"$ref":"#/definitions/PersonaMoralResponseDto"},"consultaPersonaPorRFC":{"type":"array","items":{"$ref":"#/definitions/PersonaRfcDto"}},"error":{"$ref":"#/definitions/ErrorDto"}}},"ConsultaPersonaCriterioReqDto":{"type":"object","required":["criterioBusqueda"],"properties":{"criterioBusqueda":{"type":"string","description":"Clave del criterio de Busqueda","enum":["ID_PARTICIPANTE","RFC","NOMBRE"]},"idParticipante":{"type":"string","description":"Identificador del participante"},"personaFisica":{"description":"Informacion relacionada al criterio de persona fisica.","$ref":"#/definitions/PersonaFisicaReqDto"},"personaMoral":{"description":"Informacion relacionada al criterio de persona Moral.","$ref":"#/definitions/PersonaMoralReqDto"},"rfc":{"type":"string","description":"Rfc a consultar"},"tipoPersona":{"type":"string","description":"Identificador del tipo de persona, valores permitidos: FISICA, MORAL"}}},"PersonaDto":{"type":"object","properties":{"datosGenerales":{"$ref":"#/definitions/DatosGeneralesDto"},"domicilios":{"type":"array","items":{"$ref":"#/definitions/DomicilioDto"}},"idParticipante":{"type":"string"},"mediosContacto":{"$ref":"#/definitions/ConjuntoMediosContactoDto"},"sistemasOrigen":{"$ref":"#/definitions/ConjuntoSistemasOrigenDto"}}},"ConjuntoSistemasOrigenDto":{"type":"object","properties":{"sistemaOrigen":{"type":"array","items":{"$ref":"#/definitions/SistemasOrigenDto"}}}},"AltaPersonaResponseDto":{"type":"object","properties":{"domicilioRegistrado":{"$ref":"#/definitions/AltaDomicilioRespDto"},"error":{"$ref":"#/definitions/ErrorDto"},"mediosContactoRegistrados":{"$ref":"#/definitions/MedContactoRegisRespDto"},"personaRegistrada":{"$ref":"#/definitions/AltaPersonaDatosGeneralesRespDto"}}},"SexoDto":{"type":"object","properties":{"cve_sexo":{"type":"string"},"descripcion_origen":{"type":"string"}}},"AltaMedioContactoDto":{"type":"object","properties":{"correo":{"description":"Si se proporciona el correo se debe omitir el telefono","$ref":"#/definitions/CorreoDto"},"telefono":{"description":"Si se proporciona el telefono se debe omitir el correo","$ref":"#/definitions/TelefonoDto"},"tipoMedioContacto":{"type":"string"}}}}}
