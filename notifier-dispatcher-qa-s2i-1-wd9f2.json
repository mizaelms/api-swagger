{"swagger":"2.0","info":{"description":"Notificador de eventos push, sms e email","version":"1.0","title":"Notificador","termsOfService":"URL de Terminos de servicio","contact":{"name":"GNP","url":"http://git.gnp.mx/notificador/notificationDispatcher"},"license":{"name":"Apache License Version 2.0","url":"https://www.apache.org/licenses/LICENSE-2.0"},"GNP":"Grupo Nacional Provincial"},"host":"127.0.0.1:8080","basePath":"/","tags":[{"name":"otp-controller","description":"Otp Controller"},{"name":"sms-controller","description":"Sms Controller"},{"name":"notification-dispatcher-controller","description":"Notification Dispatcher Controller"}],"paths":{"/notification/authenticate/otp/{otp}/correlationId/{correlationId}":{"get":{"tags":["otp-controller"],"summary":"Autentica el OTP enviado vía SMS","operationId":"autenticateOtpUsingGET","consumes":["application/json"],"produces":["application/json;charset=UTF-8"],"parameters":[{"name":"otp","in":"path","description":"otp","required":true,"type":"string"},{"name":"correlationId","in":"path","description":"correlationId","required":true,"type":"integer","format":"int64"},{"name":"apiId","in":"header","description":"apiId","required":true,"type":"string"}],"responses":{"200":{"description":"Autentica el OTP enviado vía SMS","schema":{"$ref":"#/definitions/OtpResponse"}},"202":{"description":"Accepted","schema":{"$ref":"#/definitions/OtpResponse"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"OTP inválido"}}}},"/notification/mail":{"post":{"tags":["notification-dispatcher-controller"],"summary":"Evía un email a una lista de destinatarios. ","operationId":"dispatchMailUsingPOST","consumes":["application/json"],"produces":["application/json;charset=UTF-8"],"parameters":[{"in":"body","name":"jsonRequest","description":"jsonRequest","required":true,"schema":{"type":"string"}},{"name":"apiId","in":"header","description":"apiId","required":true,"type":"string"}],"responses":{"200":{"description":"El mensaje ha sido validado y será enviado. ","schema":{"$ref":"#/definitions/Response"}},"201":{"description":"Created"},"202":{"description":"Accepted","schema":{"$ref":"#/definitions/Response"}},"400":{"description":"El email no es válido. "},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/notification/otp/send/{recipient}":{"post":{"tags":["otp-controller"],"summary":"Envía un otp a un destinatario.","operationId":"dispatchOtpUsingPOST","consumes":["application/json"],"produces":["application/json;charset=UTF-8"],"parameters":[{"name":"recipient","in":"path","description":"recipient","required":true,"type":"integer","format":"int64"},{"name":"apiId","in":"header","description":"apiId","required":true,"type":"string"}],"responses":{"200":{"description":"El Otp será enviado. ","schema":{"$ref":"#/definitions/OtpResponse"}},"201":{"description":"Created"},"202":{"description":"Accepted","schema":{"$ref":"#/definitions/OtpResponse"}},"400":{"description":"El número no es válido. "},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/notification/push":{"post":{"tags":["notification-dispatcher-controller"],"summary":"Envía una notificación push de manera asíncrona","operationId":"receiveJsonUsingPOST","consumes":["application/json","application/json;charset=UTF-8"],"produces":["application/json;charset=UTF-8"],"parameters":[{"in":"body","name":"push","description":"push","required":true,"schema":{"type":"string"}},{"name":"apiId","in":"header","description":"apiId","required":true,"type":"string"}],"responses":{"201":{"description":"Created"},"202":{"description":"La notificación push ha sido validada y será enviada.","schema":{"$ref":"#/definitions/Response"}},"400":{"description":"La notificación push no es válida."},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/notification/push/log/sent/{query}":{"get":{"tags":["notification-dispatcher-controller"],"summary":"Consulta notificaciones push que cumplen con el criterio de búsqueda. ","operationId":"receivePushCriteriaUsingGET","consumes":["application/json"],"produces":["application/json;charset=UTF-8"],"parameters":[{"name":"query","in":"path","description":"query","required":true,"type":"string"}],"responses":{"200":{"description":"Obtiene una lista con todas las notificaciones válidas que cumplen con los criterios de búsqueda","schema":{"type":"array","items":{"$ref":"#/definitions/PushInformation"}}},"202":{"description":"Accepted","schema":{"type":"array","items":{"$ref":"#/definitions/PushInformation"}}},"400":{"description":"La búsqueda no es válida "},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/notification/pushList":{"post":{"tags":["notification-dispatcher-controller"],"summary":"Envía un conjunto de notificaciones push de manera asíncrona.","operationId":"receiveMixedOsUsingPOST","consumes":["application/json","application/json;charset=UTF-8"],"produces":["application/json;charset=UTF-8"],"parameters":[{"in":"body","name":"json","description":"json","required":true,"schema":{"type":"string"}},{"name":"apiId","in":"header","description":"apiId","required":true,"type":"string"}],"responses":{"201":{"description":"Created"},"202":{"description":"Las notificaciones push han sido validadas y serán enviadas.","schema":{"type":"array","items":{"$ref":"#/definitions/Response"}}},"400":{"description":"Una o todas las notificaciones Push es inválida. Ninguna notificación ha sido enviada."},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/notification/sms":{"post":{"tags":["notification-dispatcher-controller"],"summary":"Evía un sms a una lista de destinatarios. ","operationId":"dispatchSmsUsingPOST","consumes":["application/json"],"produces":["application/json;charset=UTF-8"],"parameters":[{"in":"body","name":"jsonRequest","description":"jsonRequest","required":true,"schema":{"type":"string"}},{"name":"apiId","in":"header","description":"apiId","required":true,"type":"string"}],"responses":{"200":{"description":"El mensaje ha sido validado y será enviado. ","schema":{"$ref":"#/definitions/Response"}},"201":{"description":"Created"},"202":{"description":"Accepted","schema":{"$ref":"#/definitions/Response"}},"400":{"description":"El sms no es válido. "},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/notification/sms/status/{correlationId}":{"get":{"tags":["sms-controller"],"summary":"Obtiene el status de un SMS enviado. ","operationId":"smsStatusUsingGET","consumes":["application/json"],"produces":["application/json;charset=UTF-8"],"parameters":[{"name":"correlationId","in":"path","description":"correlationId","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"El status del SMS ha sido obtenido. ","schema":{"type":"string"}},"400":{"description":"El correlation Id no es válido. "},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}}},"definitions":{"OtpResponse":{"type":"object","properties":{"correlationId":{"type":"integer","format":"int64"},"otp":{"type":"string"},"timestamp":{"type":"integer","format":"int64"}}},"PushInformation":{"type":"object","properties":{"campaign":{"type":"string"},"correlationId":{"type":"integer","format":"int64"},"notificationIssuer":{"type":"string"},"numberOfRecipients":{"type":"integer","format":"int32"},"os":{"type":"string","enum":["UNKNOWN","IOS","ANDROID","UNRECOGNIZED"]},"timestamp":{"type":"integer","format":"int64"},"title":{"type":"string"}}},"Response":{"type":"object","properties":{"correlationId":{"type":"integer","format":"int64"}}}}}
